"use strict";(self["webpackChunktwitter"]=self["webpackChunktwitter"]||[]).push([[687],{7671:(e,t,o)=>{o.r(t),o.d(t,{default:()=>j});var a=o(3673),l=o(8880),s=o(2323);const n=e=>((0,a.dD)("data-v-af28bafc"),e=e(),(0,a.Cn)(),e),i={class:"q-py-lg q-px-md row items-end q-col-gutter-md"},c={class:"col"},r=n((()=>(0,a._)("div",{class:"row justify-end"},null,-1))),d=n((()=>(0,a._)("img",{src:"https://avatars.githubusercontent.com/u/71834167?v=4&s=80"},null,-1))),u={class:"col col-shrink"},w=n((()=>(0,a._)("img",{src:"https://avatars.githubusercontent.com/u/71834167?v=4&s=80"},null,-1))),m=n((()=>(0,a._)("strong",null,"Thuong Truong",-1))),p=n((()=>(0,a._)("span",{class:"text-grey-7 text-caption q-ml-sm"},"@thuongtruong1009",-1))),f={class:"text-grey-7"},g={class:"tweet-icon row justify-between q-mt-sm"};function h(e,t,o,n,h,b){const y=(0,a.up)("q-avatar"),v=(0,a.up)("q-input"),_=(0,a.up)("q-spinner-facebook"),k=(0,a.up)("q-btn"),x=(0,a.up)("q-separator"),q=(0,a.up)("q-item-section"),W=(0,a.up)("q-item-label"),C=(0,a.up)("q-item"),T=(0,a.up)("q-list"),Z=(0,a.up)("q-scroll-area"),Q=(0,a.up)("q-page");return(0,a.wg)(),(0,a.j4)(Q,{class:"relative-position"},{default:(0,a.w5)((()=>[(0,a.Wm)(Z,{"thumb-style":e.thumbStyle,"content-style":e.contentStyle,"content-active-style":e.contentActiveStyle,ref:"scrollAreaRef",class:"absolute full-width full-height"},{default:(0,a.w5)((()=>[(0,a._)("div",i,[(0,a._)("div",c,[(0,a.Wm)(v,{"bottom-slots":"",modelValue:e.newTweetContext,"onUpdate:modelValue":t[0]||(t[0]=t=>e.newTweetContext=t),placeholder:"What's happening?",counter:"",maxlength:"280",autogrow:"",class:"new-tweet"},{before:(0,a.w5)((()=>[(0,a.Wm)(y,{size:"xl"},{default:(0,a.w5)((()=>[d])),_:1})])),default:(0,a.w5)((()=>[r])),_:1},8,["modelValue"])]),(0,a._)("div",u,[(0,a.Wm)(k,{rounded:"","no-caps":"",disable:!e.newTweetContext,color:"primary",label:"Tweet",class:"q-mb-lg",onClick:e.addNewTweet,loading:e.submitting},{loading:(0,a.w5)((()=>[(0,a.Wm)(_)])),_:1},8,["disable","onClick","loading"])])]),(0,a.Wm)(x,{size:"0.75rem",color:"grey-2"}),(0,a.Wm)(T,{separator:""},{default:(0,a.w5)((()=>[(0,a.Wm)(l.W3,{appear:"","enter-active-class":"animated fadeIn slower","leave-active-class":"animated backOutRight"},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.tweets,(t=>((0,a.wg)(),(0,a.j4)(C,{class:"tweet q-py-md",key:t.id},{default:(0,a.w5)((()=>[(0,a.Wm)(q,{avatar:"",top:""},{default:(0,a.w5)((()=>[(0,a.Wm)(y,null,{default:(0,a.w5)((()=>[w])),_:1})])),_:1}),(0,a.Wm)(q,null,{default:(0,a.w5)((()=>[(0,a.Wm)(W,{class:"text-subtitle1"},{default:(0,a.w5)((()=>[m,p])),_:1}),(0,a.Wm)(W,{caption:""},{default:(0,a.w5)((()=>[(0,a._)("span",f,"â€¢ "+(0,s.zw)(e.relativeDate(t.date)),1)])),_:2},1024),(0,a.Wm)(W,{class:"tweet-content text-body1 q-py-sm"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(t.content),1)])),_:2},1024),(0,a._)("div",g,[(0,a.Wm)(k,{flat:"",round:"",color:"grey",icon:"far fa-comment",size:"sm"}),(0,a.Wm)(k,{flat:"",round:"",color:"grey",icon:"fas fa-retweet",size:"sm"}),(0,a.Wm)(k,{flat:"",round:"",color:t.liked?"red":"grey",icon:t.liked?"fas fa-heart":"far fa-heart",size:"sm",onClick:o=>e.onLiked(t)},null,8,["color","icon","onClick"]),(0,a.Wm)(k,{flat:"",round:"",color:"grey",icon:"fas fa-trash",size:"sm",onClick:o=>e.deleteTweet(t)},null,8,["onClick"])])])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1},8,["thumb-style","content-style","content-active-style"]),(0,a.Wm)(k,{icon:"arrow_upward",round:"",color:"primary",onClick:e.animateScroll,class:"absolute-bottom-right q-mb-xs q-mr-xs"},null,8,["onClick"])])),_:1})}var b=o(8127),y=(o(9040),o(4167));const v=(0,a.aZ)({name:"PageHome",data(){return{newTweetContext:"",tweets:[],thumbStyle:{right:"1px",borderRadius:"9px",backgroundColor:"#1DA1F2",width:"5px",opacity:.75},position:0,scrollAreaRef:null,submitting:!1}},methods:{relativeDate(e){return(0,y.Z)(e,new Date)},addNewTweet(){this.submitting=!0,setTimeout((()=>{this.submitting=!1}),1e3);const e=(0,b.ad)(),t=(0,b.ET)((0,b.hJ)(e,"tweets"),{content:this.newTweetContext,date:Date.now(),liked:!1});console.log("Document written with ID: ",t.id),this.newTweetContext=""},deleteTweet(e){const t=(0,b.ad)();(0,b.oe)((0,b.JU)(t,"tweets",e.id))},onLiked(e){console.log("tagTweet: "+e);const t=(0,b.ad)(),o=(0,b.JU)(t,"tweets",e.id);(0,b.r7)(o,{liked:!e.liked})},animateScroll(){this.scrollAreaRef.setScrollPosition("vertical",this.position,0),this.position="0px"}},mounted(){const e=(0,b.ad)(),t=(0,b.IO)((0,b.hJ)(e,"tweets"),(0,b.Xo)("date"));(0,b.cf)(t,(e=>{e.docChanges().forEach((e=>{let t=e.doc.data();if(t.id=e.doc.id,"added"===e.type&&(console.log("New tweet: ",t),this.tweets.unshift(t)),"modified"===e.type){console.log("Modified tweet: ",t);let e=this.tweets.findIndex((e=>e.id===t.id));Object.assign(this.tweets[e],t)}if("removed"===e.type){console.log("Removed tweet: ",t);let e=this.tweets.findIndex((e=>e.id===t.id));this.tweets.splice(e,1)}}))}))}});var _=o(4260),k=o(4379),x=o(7704),q=o(8104),W=o(5096),C=o(4607),T=o(8719),Z=o(5869),Q=o(7011),S=o(3414),I=o(2035),D=o(2350),z=o(7518),A=o.n(z);const R=(0,_.Z)(v,[["render",h],["__scopeId","data-v-af28bafc"]]),j=R;A()(v,"components",{QPage:k.Z,QScrollArea:x.Z,QInput:q.Z,QAvatar:W.Z,QBtn:C.Z,QSpinnerFacebook:T.Z,QSeparator:Z.Z,QList:Q.Z,QItem:S.Z,QItemSection:I.Z,QItemLabel:D.Z})}}]);